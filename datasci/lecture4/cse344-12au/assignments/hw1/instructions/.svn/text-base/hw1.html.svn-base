<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>CSE 344 Homework 1</title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
</head>

<body>
<h1>CSE 344 Homework 1</h1>
<dl>
  <dt><b>Objectives:</b> </dt>
  <dd>To be able to create and manipulate tables in sqlite3. </dd>
  <dt><b>Assignment tools:</b></dt>
  <dd>SQLite 3</dd>
  <dt><b>Due date:</b> </dt>
  <dd>Monday, Oct 1st  at 11:59pm. Turn it in <a href="https://catalyst.uw.edu/collectit/dropbox/shenz/23834" target="_blank"> here</a>.</dd>
  <dt><b>What to turn in:</b> </dt>
  <dd>A file containing all of your <strong>SQL and SQLite commands</strong>, and <strong>SQL comments</strong> for your responses that are not in SQL. No need to include any inputs nor outputs.</dd>
</dl>
<p>
<strong>Motivation</strong>: We will use <a href="http://www.sqlite.org/about.html">SQLite </a>for this assignment. SQLite is a <em>software library</em> that implements a  SQL database engine. We will use SQLite in this assignment because it offers an extremely lightweight method to create and analyze structured datasets (by structured we mean datasets in the form of tables rather than, say, free text). Using SQLite is a minimal hassle approach to realizing the benefits of a relational database management system. Of course, SQLite does not do everything, but we will get to that point in later assignments. In the meantime, you can also check a page that describes <a href="http://www.sqlite.org/whentouse.html">when to use SQLite and when not to use it</a>. 
<p><b>Extra Resources :</b>

<ul>
  <li>The <a href="../../Calendar.html">class calendar </a>includes lecture notes but also references to book chapters that you may find useful in completeing assignments. </li>
  <li> Some important SQLite commands:
    <ul>
        <li> to view help contents: ".help" </li>
      <li> to view a list of all your tables: ".tables" </li>
      <li> to exit: ".exit" <br>
            <br>
      </li>
    </ul>
  </li>
  <li>This page provides <a href="http://www.pantz.org/software/sqlite/sqlite_commands_and_general_usage.html" target="_new"> a simple guide for commonly used command-line functions </a> in SQLite. <br>
      <br>
  </li>
  <li>This page provides <a href="http://www.sqlite.org/sqlite.html" target="_new"> more information on formatting output </a> in SQLite. <br>
      <br>
  </li>
  <li>This page provides an index of <a href="http://www.sqlite.org/lang.html" target="_new"> more detailed information for SQL commands </a> in SQLite. </li>
</ul>
<p>
<p><strong>Assignment Details</strong>:

<p>To run SQLite do the following:
<ul>
    <li> on Mac or Linux, open a terminal and type sqlite3 </li>
    <li> on Windows, open cygwin and type sqlite3 (you may have to install it by running setup --> database --> sqlite3). </li>
</ul>
</p> (see how easy it is to get started!)
<ol>
  <li> <b>[25 points]</b> First, create a simple table using the following steps:
    <ol type="a">
      <li> Create a table <tt>R(A,B) </tt>where both<tt> A</tt> and <tt>B</tt> are integers. </li>
      <li> Insert the tuples (2,4), (1,1), (3,2) </li>
      <li> Write a SQL statement that returns all tuples </li>
      <li> Now insert the tuple ('5','2'). Do you get an error?  Why? </li>
      <li> Write a SQL statement that returns only column <tt>A</tt> for all tuples </li>
      <li> Write a SQL statement that returns all tuples where<tt> A<=B</tt></li>
    </ol>
  </li>
<p> </p>
</ol>
<p>For the next question you will be asked to create tables with
  attributes of types integer, varchar, date, and Boolean. However, SQL
  Lite does not have date and Boolean: you will use varchar and int
  instead:
</p>
<ol start="2">
  <ul>
    <li> 0 (false) and 1 (true) are the values used to interpret Booleans. </li>
    <li> Date strings in SQLite are in the form: <tt>'YYYY-MM-DD'</tt>.
  <ul>
    <li> Examples of valid date strings include: <tt>'1988-01-15'</tt>, <tt>'0000-12-31'</tt>, and<tt> '2011-03-28'</tt>. </li>
      <li> Examples of invalid date strings include:<tt> '11-11-01', '1900-1-20', '2011-03-5', </tt>and <tt>'2011-03-50'</tt>. </li>
            <li>Examples of date operations on date strings (try them):<br>
              <tt>select date('2011-03-28'); <br>
              select date('now');<br>
              select date('now', '-5 year');<br>
              select date('now', '-5 year', '+24 hour');              </tt><br>
              <tt>select case when date('now') &lt; date('2011-12-09') then 'Taking classes' when date('now') &lt; date('2011-12-16') then 'Exams' else 'Vacation' end;</tt> <br>
        </li>
      </ul>
    </li>
  </ul>
  <p> </p>
  <li><b>[10 points]</b> Create a table called <tt>MyRestaurants</tt> with the following attributes: <br>
    <ul>
      <li> <tt>Name</tt> of the restaurant: a varchar field </li>
      <li><tt> Type of food</tt> they make: a varchar field </li>
      <li> <tt>Distance</tt> (in minutes) from your house: an integer </li>
      <li> <tt>Date of your last visit:</tt> a varchar field, interpreted as date </li>
      <li> <tt>Whether you like it or not</tt>: an integer, interpreted as a Boolean </li>
    </ul>
  </li>
  <p> </p>
  <li><b>[10 points]</b> Insert at least five tuples using the SQL INSERT command five (or more) times. You should insert at least one restaurant you liked, at least one restaurant you did not like, and at least one restaurant where you leave the iLike field NULL.
    <p> </p>
  <li><b>[10 points]</b> Write a SQL query to return all restaurants in your table.  </li>
  <p> </p>
  <li><b>[15 points]</b> Now experiment with a few of SQLite's output formats using the SQL query you wrote for question 4:
    <ol type="a">
      <li> print the results in comma-separated form </li>
      <li> print the results in list form, delimited by " | " </li>
      <li> print the results in column form, and make each column have width 15 </li>
      <li> for each of the formats above, try printing/not printing the column headers with the results </li>
    </ol>
  </li>
  <p></p>
  <li><b>[15 points]</b> Modify your SQL query such that it prints "I liked it" or "I hated
    it" for each restaurant you liked or not. Note that you are not allowed to modify the table on disk. You should be able to answer this question using only a SELECT statement. A solution that creates and uses an extra table, howerver, will be accepted.</li>
  <p></p>
  <li><b>[15 points]</b> Write a SQL query that returns all restaurants that you like, and
    have not visited since more than 3 months ago.  </li>
</ol>
<p>
</p>
</body>
</html>
